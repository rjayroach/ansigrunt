---
- name: Ensure component directory exists
  file:
    dest: '{{ tpl_component.dir }}'
    state: directory

- name: Template the component provider and remote states
  template:
    src: component.tf.j2
    dest: '{{ tpl_component.dir }}/_component.tf'
